--- /etc/s6-overlay/s6-rc.d/syslogd-log/run	2022-03-08 02:55:29.000000000 +0100
+++ /etc/s6-overlay/s6-rc.d/syslogd-log/run.new	2022-03-08 15:27:32.852628671 +0100
@@ -1,18 +1,22 @@
 #!/command/execlineb -P
 
 s6-envuidgid -D 32761:32761: -- sysllog
-s6-applyuidgid -U --
-backtick -D "n20 s1000000 T" line { printcontenv S6_LOGGING_SCRIPT }
+backtick -D "n5 s1000000" line { printcontenv S6_LOGGING_SCRIPT }
+backtick -D "false" fileLOG { printcontenv LOG2FILE }
 multisubstitute
 {
+  importas -usC fileLOG fileLOG
   importas -usC T line
   define dir /var/log/syslogd
 }
+backtick -D "1" logdir_vdr { if { echo "1" "$T" "/vdr/log" } test $fileLOG = true }
+importas -usC logdir_vdr logdir_vdr
+s6-applyuidgid -U --
 exec -c
 s6-log -d3 --
 
  - +^auth\\. +^authpriv\\.  $T ${dir}/secure
- - +^cron\\.  $T ${dir}/cron
+ - +^cron\\.  1 $T ${dir}/cron
  - +^daemon\\.  $T ${dir}/daemon
  - +^[[:alnum:]]*\\.debug:  $T ${dir}/debug
  - +^[[:alnum:]]*\\.err: +^[[:alnum:]]*\\.error: +^[[:alnum:]]*\\.emerg: +^[[:alnum:]]*\\.alert: +^[[:alnum:]]*\\.crit:  $T ${dir}/errors
@@ -20,4 +24,5 @@
  - +mail\\.  $T ${dir}/mail
  - +user\\.  $T ${dir}/user
  - +^[[:alnum:]]*\\.info: +^[[:alnum:]]*\\.notice: +^[[:alnum:]]*\\.warn: -^auth\\. -^authpriv\\. -^cron\\. -daemon\\. -mail\\.  $T ${dir}/messages
+ - +^[[:alnum:]].*vdr: +^[[:alnum:]].*recordingaction: +^[[:alnum:]].*CheckRecording:  $logdir_vdr
  + -^auth\\. -^authpriv\\.  $T ${dir}/everything
